-- Header Section
-- VHDL testbench ADD2_TB
-- Generated by HDLGen, Github https://github.com/abishek-bupathi/HDLGen
-- Reference: https://tinyurl.com/vicilogicVHDLTips 
-- Component Name : ADD2
-- Title          : 2-bit binary adder
-- Description    : refer to component hdl model fro function description and signal dictionary
-- Author(s)      : Fearghal Morgan
-- Company        : University of Galway
-- Email          : fearghal.morgan@universityofgalway.ie
-- Date           : 29/03/2023

-- library declarations
library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

-- entity declaration
entity ADD2_TB is end entity ADD2_TB;

architecture behave of ADD2_TB is

-- unit under test (UUT) component declaration. Identical to component entity, with 'entity' replaced with 'component'
component ADD2 is 
Port(
	addIn1 : in std_logic_vector(1 downto 0);
	addIn0 : in std_logic_vector(1 downto 0);
	sum : out std_logic_vector(1 downto 0) 
	);
end component;

-- testbench signal declarations
signal testNo: integer; -- aids locating test in simulation waveform
signal endOfSim : boolean := false; -- assert at end of simulation to highlight simuation done. Stops clk signal generation.

-- Typically use the same signal names as in the VHDL entity, with keyword signal added, and without in/out mode keyword


signal addIn1 : std_logic_vector(1 downto 0);
signal addIn0 : std_logic_vector(1 downto 0);
signal sum : std_logic_vector(1 downto 0);

constant period: time := 20 ns; -- Default simulation time. Use as simulation delay constant, or clk period if sequential model ((50MHz clk here)
 
begin

-- instantiate unit under test (UUT)
UUT: ADD2-- map component internal sigs => testbench signals
port map
	(
	addIn1 => addIn1, 
	addIn0 => addIn0, 
	sum => sum
	);

-- Signal stimulus process
stim_p: process -- process sensitivity list is empty, so process automatically executes at start of simulation. Suspend process at the wait; statement
begin
	-- Apply default INPUT signal values. Do not assign output signals (generated by the UUT) in this stim_p process
	-- Each stimulus signal change occurs 0.2*period after the active low-to-high clk edge
	-- if signal type is
	-- std_logic, use '0'
	-- std_logic_vector use (others => '0')
	-- integer use 0
	addIn1 <= (others => '0');
	addIn0 <= (others => '0');
	report "%N Simulation start";

-- include testbench stimulus sequence here. USe new testNo for each test set	-- individual tests. Generate input signal combinations and wait for period.
	testNo <= 1;
	wait for 3*period;

	-- include testbench stimulus sequence here. Use new testNo for each test set
-- manually added code START
-- manually added code END

	report "%N Simulation done";
	endOfSim <= TRUE; -- assert flag to stop clk signal generation

	wait; -- wait forever
end process; 
end behave;