<?xml version="1.0" ?>

<!--
    Escape Characters
    "   &quot;
    '   &apos;
    <   &lt;
    >   &gt;
    &   &amp;
    \n  &#10;
    \t  &#x9;
-->
<tcl>
    <vivado_vhdl_tcl>
        # AMD-Xilinx Vivado project start and tcl script: Create project, xc7z020clg400-1 technology, %lang model &#10;
        # To execute, &#10;
        # open cmd window &#10;
        # cd to project folder &#10;
        # start Vivado (with tcl file parameter) &#10;
        # e.g, for project name $proj_name &#10;
        # cmd &#10;
        # cd $proj_dir &#10;
        # $vivado_bat_path -source $tcl_path &#10;

        # Vivado tcl file $proj_name.tcl, created in AMDprj folder &#10;
        cd $proj_dir &#10;
        # Close_project  Not required. Will advise that Vivado sessions should be closed. &#10;
        start_gui&#10;
        create_project  $proj_name  ./$lang/AMDprj -part xc7z020clg400-1 -force&#10;
        set_property target_language $lang [current_project]&#10;
        add_files -norecurse  ./$lang/model/$comp_name.$ext&#10;$arrayPackage&#10;$files&#10;
        update_compile_order -fileset sources_1&#10;
        set_property SOURCE_SET sources_1 [get_filesets sim_1]&#10;
        add_files -fileset sim_1 -norecurse ./$lang/testbench/$tb_name.$ext&#10;
        update_compile_order -fileset sim_1&#10;
        # Remove IOBs from snthesised schematics
        current_run [get_runs synth_1]
        set_property -name {STEPS.SYNTH_DESIGN.ARGS.MORE OPTIONS} -value -no_iobuf -objects [get_runs synth_1]

        # Save created wcfg in project
        set_property SOURCE_SET sources_1 [get_filesets sim_1]
        add_files -fileset sim_1 -norecurse ./$lang/AMDPrj/$tb_name_behav.wcfg
        # save_wave_config {./$lang/AMDprj/$tb_name_behav.wcfg}
    </vivado_vhdl_tcl>
</tcl>